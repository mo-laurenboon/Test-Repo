name : Deploy static content to Pages
on :
  workflow_dispatch :
permissions :
  contents : read
  pages : write
  id-token : write
concurrency :
  group : ”pages”
  cancel-in-progress : true
jobs:
  deploy:
    environment:
      name: github-pages
      url : ${{ steps.deployment.outputs.page_url }}
    runs-on : ubuntu-latest
    steps :
    - name : Checkout
      uses : actions/checkout@v4
      with :
        ref : production
    - name : Setup Pages
      uses : actions/configure-pages@v5
    - name : Upload artifact
      uses : actions/upload-pages-artifact@v3
      with :
        path : 'content'
        retention-days : 0
    - name: check artifact status
      id: check-artifact-status
      run: |
        if [-d "content"]; then
          echo "Artifact identified" 
        else:
          echo "WARNING: No artifact identified: Skipping deployment"
    - name : Deploy to GitHub Pages
      id : deployment
      uses : actions/deploy-pages@v4